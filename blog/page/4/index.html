
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ZeroSharp</title>
  <meta name="author" content="Robert Anderson">

  
  <meta name="description" content="One of the projects I work on uses the validation module of the eXpressApp Framework (XAF). Since the business logic is complex, there are many &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ZeroSharp.github.com/blog/page/4/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/zerosharp" rel="alternate" title="ZeroSharp" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> 

<!-- <ra+> -->
<link href="http://fonts.googleapis.com/css?family=Ubuntu:500" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css">

<link href="/stylesheets/custom/data-table.css" media="screen, projection" rel="stylesheet" type="text/css">

<!-- </ra+> -->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30564687-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <!--<h1><a href="/">ZeroSharp</a></h1>-->
  <a href="http://www.zerosharp.com/"><h1>ZeroSharp</h1></a>
  
    <h2>Rob Anderson's ones and zeros</h2>
  
</hgroup>

</header>
  <nav role="navigation">  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ZeroSharp.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about/">About</a></li>
  <li><a href="/license/">License</a></li>  
</ul>
<ul class="subscription">
    <li><a href="https://plus.google.com/112685056596124127572?rel=author">
      <img src="/images/asides/googleplus.png" width="24" height="24" alt="Rob on Google+">
    </a></li>    
    <li><a rel="me" href="http://twitter.com/8ctopus">
      <img src="/images/asides/twitter.png" width="24" height="24" alt="Rob on Twitter" />
    </a></li>
    <!--<li><a rel="me" href="http://stackoverflow.com/users/1077279/shamp00">
      <img src="/images/asides/stackoverflow.png" width="24" height="24" alt="Rob on StackOverflow" />
    </a></li>
    <li><a rel="me" href="https://github.com/zerosharp">
      <img src="/images/asides/github.png" width="24" height="24" alt="Rob on GitHub" />
    </a></li>
    <li><a rel="me" href="http://www.linkedin.com/profile/view?id=926740"  class ="googleplus-hidden" >
      <img src="/images/asides/linkedin.png" width="24" height="24" alt="Rob on LinkedIn" />
    </a></li>
    <li><a rel="me" href="http://springpad.com/#!/shamp00"  class ="googleplus-hidden" >
      <img src="/images/asides/springpad.png" width="24" height="24" alt="Rob on SpringPad" />
    </a></li>    
    <li><a rel="me" href="http://pinterest.com/shamp00"  class ="googleplus-hidden" >
      <img src="/images/asides/pinterest.png" width="24" height="24" alt="Rob on Pinterest" />
    </a></li>
    <li><a rel="me" href="http://www.last.fm/user/nosredna"  class ="googleplus-hidden" >
      <img src="/images/asides/lastfm.png" width="24" height="24" alt="Rob on Last.fm" />
    </a></li>-->
    <li><a href="http://feeds.feedburner.com/zerosharp">
      <img src="/images/asides/rss.png" rel="subscribe-rss" width="24" height="24" alt="RSS Feed" />
    </a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/testing-the-property-signatures-of-devexpress-validation-rules-using-nunit-and-linq/">Testing the Property Signatures of DevExpress Validation Rules Using NUnit and LINQ</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-24T16:39:00+01:00" pubdate data-updated="true">May 24<span>th</span>, 2012</time>
        
         | <a href="/testing-the-property-signatures-of-devexpress-validation-rules-using-nunit-and-linq/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the projects I work on uses the validation module of the <a href="http://devexpress.com/Products/NET/Application_Framework/">eXpressApp Framework (XAF)</a>.  Since the business logic is complex, there are many validation rules defined using the <code>[RuleFromBoolProperty]</code>.</p>

<p>One of the recurring problems occurs when the signature of the associated property is incorrect.  Consider the following:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[RuleFromBoolProperty(&quot;Invoice_IsAmountGreaterThanZero&quot;, </span>
</span><span class='line'><span class="na">  DefaultContexts.Save, </span>
</span><span class='line'><span class="na">  &quot;Invoice amount must be greater than zero.&quot;, </span>
</span><span class='line'><span class="na">  UsedProperties = &quot;Amount&quot;)]</span>
</span><span class='line'><span class="k">public</span> <span class="kt">bool</span> <span class="n">IsAmountGreaterThanZero</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">get</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">Amount</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Notice that the rule is declared <code>public</code>.  This causes the getter to be executed when it is not required (see the <a href="http://documentation.devexpress.com/#Xaf/clsDevExpressPersistentValidationRuleFromBoolPropertyAttributetopic">note</a> in the documentation).  However another problem is that the default behaviour for public properties of XPObjects is to persist them to the datastore which means the application will attempt to create a new column called <code>IsAmountGreaterThanZero</code>.</p>

<p>Instead, either property should be declared <code>protected</code> or the property should also have the <code>[NonPersistent]</code> and <code>[MemberDesignTimeVisibility(false)]</code> attributes as well.</p>

<p>Consequently, I wrote the following unit test which will detect any properties which have the <code>[RuleFromBoolProperty]</code> attribute.  This is not really a unit test, rather a sort of meta-test</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[TestFixture]</span>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">ValidationRuleDeclarationMetaTests</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="na"> [Test]</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">Test_RuleFromBoolPropertyDeclarations_ShouldBeProtectedVisibility</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="kt">var</span> <span class="n">assemblies</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Assembly</span><span class="p">[]</span> <span class="p">{</span> <span class="k">typeof</span><span class="p">(</span><span class="n">MyObjectAssembly</span><span class="p">).</span><span class="n">Assembly</span> <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>      <span class="kt">var</span> <span class="n">invalidProperties</span> <span class="p">=</span> <span class="n">assemblies</span><span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">GetTypes</span><span class="p">())</span>
</span><span class='line'>                                        <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">GetProperties</span><span class="p">(</span><span class="n">BindingFlags</span><span class="p">.</span><span class="n">Public</span> <span class="p">|</span> <span class="n">BindingFlags</span><span class="p">.</span><span class="n">Instance</span><span class="p">))</span>
</span><span class='line'>                                        <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">GetCustomAttributes</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">RuleFromBoolPropertyAttribute</span><span class="p">),</span> <span class="k">true</span><span class="p">)</span>
</span><span class='line'>                                                     <span class="p">.</span><span class="n">Any</span><span class="p">())</span>
</span><span class='line'>                                        <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">String</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">&quot;{0}.{1}&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">DeclaringType</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">Name</span><span class="p">))</span>
</span><span class='line'>                                        <span class="p">.</span><span class="n">Distinct</span><span class="p">();</span>
</span><span class='line'>  
</span><span class='line'>      <span class="n">Assert</span><span class="p">.</span><span class="n">IsFalse</span><span class="p">(</span><span class="n">invalidProperties</span><span class="p">.</span><span class="n">Any</span><span class="p">(),</span>
</span><span class='line'>                     <span class="s">&quot;There are &#39;public&#39; properties with the [RuleFromBoolProperty] attribute. &quot;</span> <span class="p">+</span>
</span><span class='line'>                     <span class="s">&quot;These should be &#39;protected&#39; instead. &quot;</span> <span class="p">+</span>
</span><span class='line'>                     <span class="s">&quot;The invalid properties are: &quot;</span> <span class="p">+</span> <span class="n">String</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">,</span> <span class="n">invalidProperties</span><span class="p">));</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>  
</span></code></pre></td></tr></table></div></figure>


<p>Now the build will fail whenever a validation property signature is incorrect.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/musical-interlude/">Musical Interlude</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-15T11:10:00+01:00" pubdate data-updated="true">May 15<span>th</span>, 2012</time>
        
         | <a href="/musical-interlude/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This post is part of an ongoing series about robots, past and present.  See <a href="/robot-egyptologists/">Robot Egyptologists</a>.</p>

<p>Robot quadcopters playing the James Bond theme tune.</p>

<iframe width="640" height="390" src="http://www.youtube.com/embed/_sUeGC-8dyk " frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<p>There is no human controlling the robots. Each one has been assigned a series of points in space that it must reach at specific times.  The robots are aware of each other and avoid collisions.</p>

<h4>References</h4>

<ul>
<li><a href="http://kumar.grasp.upenn.edu/">Vijay Kumar</a> at the University of Pennsylvania</li>
<li><a href="http://www.newscientist.com/blogs/nstv/2012/03/swarm-of-robot-helicopters-performs-james-bond-tune.html">New Scientist</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/robot-egyptologists/">Robot Egyptologists</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-01T11:52:00+01:00" pubdate data-updated="true">May 1<span>st</span>, 2012</time>
        
         | <a href="/robot-egyptologists/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This post is part of an ongoing series about robots, past and present.  See <a href="/skiing-on-mars/">Skiing on Mars</a>.</p>

<h3>Mysterious Shafts in the Great Pyramid of Giza</h3>

<p>Various robots have been used to explore secret tunnels in the Great Pyramid of Giza.</p>

<p><a href="http://http://en.wikipedia.org/wiki/File:Great_Pyramid_Diagram.svg"><img class="right" src="/images/blog/robot-egyptologists-001.png"></a></p>

<p>The tunnels were discovered in 1872 by Waynman Dixon, a British engineer who was helping with a project to undertake accurate measurements of the pyramid.  He noticed a crack in the southern wall of the Queen&#8217;s Chamber and <strong>discovered a shaft hidden behind the masonry</strong>, as well as a similar shaft in the northern wall.  The shafts are very narrow (20x14cm) and so there was no feasible method of exploring them until recently.  The shafts in question are <strong>shown in red on the diagram above</strong>.  There are two similar shafts in the King&#8217;s Chamber above it, but these have exits on the outside of the pyramid.</p>

<h3>Enter the Robots</h3>

<p><img class="right" src="/images/blog/robot-egyptologists-003.jpg" title="Upuaut-2 (image credit Michael Studt)" >
<img class="left" src="/images/blog/robot-egyptologists-002.gif" title="The slab at the end of the southern shaft" >
In 1992-3, a series of robots were sent into the shafts to explore them.  The most advanced of these was <strong>Upuhaut-2</strong>, built by a German engineer Rudolf Gantenbrink.  It was able to <strong>crawl up the southern shaft 63 metres</strong> to reveal a stone slab blocking the shaft.  The slab has two copper clasps and looks like some sort of door.</p>

<p>In 2002, another robot, the <strong>Pyramid Rover</strong> designed by iRobot of Boston (the people behind the Roomba vacuum cleaning robot) in collaboration with the National Geographic Society took the exploration further by drilling a hole through the slab and inserting a miniature fibre-optic camera.  They discovered a space of a few inches followed by &#8230; <strong>another door!</strong>.  The same robot was also able to explore the northern shaft which twists and turns more preventing earlier robots from getting very far.  It too ends up with a door approximately 63 metres from the entrance.</p>

<p>The <strong><a href="http://en.wikipedia.org/wiki/Djedi_Project">Djedi Project</a></strong> is a team of International and Egyptian experts currently dedicated to the further robot exploration of the tunnels via robots.  In 2011, it managed to drill a similar hole in the door at the end of the northern shaft.  The robot was also equipped with a miniature snake camera which was able to view the small chamber beyond the door and, in particular, <strong>some reddish hieroglyphs</strong>.  Here&#8217;s a video from one of the sponsors of the project.</p>

<iframe width="640" height="390" src="http://www.youtube.com/embed/CyUoF9977o0 " frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<h4>References</h4>

<ul>
<li>Keith Payne&#8217;s blog <a href="http://emhotep.net/2012/03/07/locations/lower-egypt/giza-plateau-lower-egypt/the-djedi-project-the-next-generation-in-robotic-archaeology/">Em Hotep</a></li>
<li><a href="http://www.drhawass.com/events/mystery-hidden-doors-inside-great-pyramid-0">Dr. Zahi Hawass blog</a></li>
<li><a href="http://www.newscientist.com/article/mg21028144.500-first-images-from-great-pyramids-chamber-of-secrets.html">New Scientist</a></li>
<li><a href="http://www.cheops.org/startpage/thefuture/future.htm">Rudolf Gantenbrink&#8217;s site</a></li>
<li>Images via Wikipedia, <a href="http://www.flickr.com/photos/mickythepixel/3903073791/">Michael Studt</a> via <a href="http://heritage-key.com/egypt/gizas-robot-explorers">Heritage Key</a>,</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/skiing-on-mars/">Skiing on Mars</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-27T11:45:00+01:00" pubdate data-updated="true">Apr 27<span>th</span>, 2012</time>
        
         | <a href="/skiing-on-mars/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://en.wikipedia.org/wiki/File:Mars_propm_rover.jpg"><img class="right" src="/images/blog/skiing-on-mars-003.jpg"></a>
This post is part of an ongoing series about robots, past and present.  See <a href="/friends-robots-countrymen/">Friends, Robots, Countrymen</a>.</p>

<h3>The Soviet PrOP-M Rovers</h3>

<p>In May 1971, the USSR launched two rovers to explore Mars.  <strong>They were to move on skis (!!)</strong> while connected to the landers with 15m umbilical cables.</p>

<p>The first one crash landed.  The second landed sucessfully but failed twenty seconds after landing and never moved.  The reasons are unknown although the landing took place in the middle of a dust storm.  The base module did manage to transmit about 20 seconds worth of the <strong>first ever photograph of the surface of Mars</strong>, shown on the left here.  According to the Soviet Academy of Sciences there is nothing, horizon or otherwise, identifiable in this photograph.</p>

<p><a href="http://en.wikipedia.org/wiki/File:Mars_3_Image.png"><img class="left" src="/images/blog/skiing-on-mars-001.png"></a>
<a href="http://en.wikipedia.org/wiki/File:Soviet_Union-1972-Stamp-0.06._Mars_2.jpg"><img class="right" src="/images/blog/skiing-on-mars-002.jpg"></a></p>

<p>The rover itself, although never deployed, was equipped with sensors to detect obstacles (the two foremost metal bars in the photograph above).  <strong>The rovers were somewhat autonomous</strong> and capable of navigating obstacles.  The Soviet engineers were aware they might not have enough time for a remote-controlled operation of the rover (one-way communication takes between 4 and 20 minutes to Mars).</p>

<p>Receiving a signal from another planet, even for a few seconds is such an incredible achievement.  It&#8217;s difficult to imagine what it was like being a programmer in those days, under that regime, but it must have been dramatic for those involved.  Hope, fear, pride, joy and perhaps disappointment and regret. <strong>All because of a chunk of metal sitting in a red dust storm <a href="http://www.wolframalpha.com/input/?i=distance+between+mars+and+earth+on+December+2+1971">141 million kilometres</a> away.</strong></p>

<h3>Analog Computers</h3>

<p><a href="http://programmers.stackexchange.com/questions/145669/what-software-programming-languages-were-used-by-the-soviet-unions-space-progra">Apparently</a> any programming would have been done on analog computers.  An analog computer does not require &#8216;software&#8217; in the sense we use the term today.  Instead the computer evaluates an <em>analog</em>, a &#8216;model&#8217; which corresponds to a given problem. You create the model by describing differential﻿ equations which correspond to the problem and then deriving a circuit corresponding to these equations. This is the &#8216;program&#8217; of the analog computer. The computer itself has no memory and no algorithmic program control.</p>

<p>Watch a demonstration of how to program an analog computer to simulate a mass-spring system.  <strong>It&#8217;s a far cry from my day job.</strong></p>

<iframe width="640" height="390" src="http://www.youtube.com/embed/H_4bFgYReq0 " frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<h4>References</h4>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Mars_2">Wikipedia Mars 2</a></li>
<li><a href="http://en.wikipedia.org/wiki/Mars_3">Wikipedia Mars 3</a></li>
<li><a href="http://cyberneticzoo.com/?p=3830">Cybernetic Zoo</a></li>
<li><a href="http://weburbanist.com/2011/12/04/star-cars-10-past-present-future-robot-space-rovers/">Star Cars: 10 Past, Present &amp; Future Robot Space Rovers</a></li>
<li><a href="http://web.mit.edu/slava/space/interview/interview-przhiyalkovsky.htm">Interview with Viktor Przhiyalkovsky</a></li>
<li>Images via Wikipedia</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/friends-robots-countrymen/">Friends, Robots, Countrymen</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-24T15:55:00+01:00" pubdate data-updated="true">Apr 24<span>th</span>, 2012</time>
        
         | <a href="/friends-robots-countrymen/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is the first in a series of posts about robots, past and present.</p>

<p>Since at least the 1950s, people have claimed that we are just around the corner from a robot revolution.  Perhaps it&#8217;s finally here!  The robots are coming!</p>

<p>Recently there have been substantial advances in many different overlapping domains: the driverless car, unmanned drones, machine vision, machine translation, machine learning, speech recognition, facial recognition, swarm robotics, self-reconfiguring modular robots, powered exoskeletons, nanotechnology, etc.</p>

<p>First up:  here&#8217;s the <strong>rather terrifying</strong> DARPA AlphaDog Legged Squad Support System (LS3).</p>

<iframe width="640" height="390" src="http://www.youtube.com/embed/xY42w1w0TWk " frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<p>The <a href="http://www.darpa.mil/NewsEvents/Releases/2012/02/07.aspx">DARPA website</a> says it can <strong>track a specific individual</strong>, so watch your back!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/setting-up-octopress-on-windows/">Octopress on Windows and GitHub</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-06T17:11:00+01:00" pubdate data-updated="true">Apr 6<span>th</span>, 2012</time>
        
         | <a href="/setting-up-octopress-on-windows/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p><div STYLE="color:red">There is a more recent version of this post which covers ruby 1.9.3, python 2.7.3.</div></p><footer><strong>January 2013 update:</strong> <cite><a href='http://blog.zerosharp.com/setting-up-octopress-on-windows-again'>Setting Up Octopress on Windows Again</a></cite></footer></blockquote>




<div><BR></div>


<hr />

<div><BR></div>


<p>This is quick guide to setting up <a href="http://octopress.org/">Octopress</a> on a Windows 7 machine to publish to GitHub pages. It relies on ruby 1.9.2 and python 2.7.2.</p>

<h3>Get with GitHub</h3>

<p>First, get an account on GitHub and follow the excellent instructions for Windows here.  <a href="http://help.github.com/win-set-up-git/">here</a>.</p>

<p>Once you are set up with GitHub, get <a href="https://github.com/scottmuc/yari">yari</a> by opening a command prompt:</p>

<p>Then create a directory for all your github projects.  You could put this anywhere, e.g., <code>%USERPROFILE%\github</code>.  I chose to create a directory <code>C:\projects\github\</code>.</p>

<h3>Installing Octopress</h3>

<p><img class="right" src="/images/blog/octopress_logo.png"></p>

<h4>Use yari instead of RVM/rbenv</h4>

<p>Scott Muc has written <a href="https://github.com/scottmuc/yari">yari</a> which lets you switch between Windows Ruby versions.  Get it with the following command.</p>

<pre><code>cd C:\projects\github\
git clone git://github.com/scottmuc/yari.git yari
</code></pre>

<p>Once this has completed you can setup the required Ruby environment with the command:</p>

<pre><code>yari 1.9.2
</code></pre>

<p>Then follow the rest of the instructions from <a href="http://octopress.org/docs/setup/">the Octopress setup instructions</a>.</p>

<pre><code>git clone git://github.com/imathis/octopress.git octopress
cd octopress
ruby --version  # Should report Ruby 1.9.2 thanks to yari
</code></pre>

<p>Next install dependencies</p>

<pre><code>gem install bundler
bundle install
</code></pre>

<p>Install the default Octopress theme.</p>

<pre><code>rake install
</code></pre>

<h3>Deploying to GitHub</h3>

<p>The instructions are <a href="http://octopress.org/docs/deploying/github/">here</a>.  The only difficulty I had was working out which URL to use after:</p>

<pre><code>rake setup_github_pages
</code></pre>

<p>This will ask you for your Github Pages repository url, but it is not clear that this is the SSH one, e.g., <code>git@github.com:ZeroSharp/zerosharp.github.com.git</code>.  You can find it near the top of <a href="https://github.com/ZeroSharp/zerosharp.github.com">the repository page</a>.</p>

<h3>Configuring your blog</h3>

<p>Follow the instructions <a href="http://octopress.org/docs/configuring/">here</a> to configure your blog.</p>

<h4>Markdown</h4>

<p>It is quite difficult to find good help on the markdown syntax other than for the codeblocks section.  For instance, it is not clear how to generate a codeblock with no line numbers, like this one:</p>

<pre><code>How do I output a codeblock with no line numbers?
</code></pre>

<p>It turns out it either requires a <code>&lt;pre&gt;</code> tag instead of a <code>{ codeblock }</code> tag, or alternatively, start the line with four spaces.  The official syntax is <a href="http://daringfireball.net/projects/markdown/syntax">here</a>, but I also found <a href="http://warpedvisions.org/projects/markdown-cheat-sheet/">this cheat sheet</a>.</p>

<h4>Fonts and Styles</h4>

<p>See <a href="http://blog.bigdinosaur.org/changing-octopresss-header/">Lee&#8217;s Bigdinosaur blog</a>.</p>

<h4>Problem with CodeBlocks</h4>

<p>I had a problem with codeblocks which seems to be specific to Windows.  It seems that whenever you include a <code>lang</code> parameter in a <code>codeblock</code>, you get:</p>

<pre><code>Liquid error: No such file or directory - python2.7 -c “import sys; print sys.executable”
</code></pre>

<p>There are two issues:</p>

<ul>
<li>Syntax highlighting requires Python which is not automatically installed.</li>
<li>There is a problem with pythonexec.rb which does not seem to support Windows Python installations very well.</li>
</ul>


<p>Luckily we can fix them both.  Install <a href="http://www.python.org/getit/releases/2.7.2/">Python 2.7.2</a>.  Actually I used <a href="http://ninite.com/">ninite.com</a> to install it.</p>

<p>Then modify the pythonrubyexec.rb which is in the depths of the yari subdirectory.  Try here: <code>.\yari\ruby-1.9.2-p290-i386-mingw32\lib\ruby\gems\1.9.1\gems\rubypython-0.5.1\lib\rubypython\pythonexec.rb</code></p>

<p>At the top of pythonexec.rb, modify the file as follows:</p>

<figure class='code'><figcaption><span>pythonexec.rb  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'>class RubyPython::PythonExec
</span><span class='line'>  # Based on the name of or path to the \Python executable provided, will
</span><span class='line'>  # determine:
</span><span class='line'>  #
</span><span class='line'>  # * The full path to the \Python executable.
</span><span class='line'>  # * The version of \Python being run.
</span><span class='line'>  # * The system prefix.
</span><span class='line'>  # * The main loadable \Python library for this version.
</span><span class='line'>  def initialize(python_executable)
</span><span class='line'>    @python = python_executable || &quot;python&quot;
</span><span class='line'>
</span><span class='line'><span class="gi">+    if (@python.include? &#39;python2.7&#39;)</span>
</span><span class='line'><span class="gi">+      @python = &quot;python&quot;</span>
</span><span class='line'><span class="gi">+    end</span>
</span><span class='line'>
</span><span class='line'>    @python = %x(#{@python} -c &quot;import sys; print sys.executable&quot;).chomp
</span></code></pre></td></tr></table></div></figure>


<h4>References</h4>

<ul>
<li><a href="http://blog.bigdinosaur.org/changing-octopresss-header/">Lee&#8217;s Bigdinosaur blog</a> helped with fonts and colours.</li>
<li><a href="http://translate.googleusercontent.com/translate_c?hl=en&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com&amp;sl=zh-CN&amp;tl=en&amp;twu=1&amp;u=http://blog.yesmryang.net/windows-octopress-python/&amp;usg=ALkJrhhFZMKpT5j6_L8NXOL1S9H9CGjHNw">This blog post</a> (translated from the Chinese via Google Translate) helped me solve the codeblock problem.</li>
<li><a href="https://github.com/imathis/octopress/issues/262">This issue</a> and <a href="https://github.com/github/gollum/issues/225">this issue</a> also helped.</li>
<li>Markdown <a href="http://daringfireball.net/projects/markdown/syntax">syntax</a> and <a href="http://warpedvisions.org/projects/markdown-cheat-sheet/">cheat sheet</a></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Robert Anderson
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'zerosharp';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
