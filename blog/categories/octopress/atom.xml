<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: octopress | ZeroSharp]]></title>
  <link href="http://blog.zerosharp.com/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://blog.zerosharp.com/"/>
  <updated>2012-04-06T17:27:10+01:00</updated>
  <id>http://blog.zerosharp.com/</id>
  <author>
    <name><![CDATA[Robert Anderson]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress on Windows and GitHub]]></title>
    <link href="http://blog.zerosharp.com/setting-up-octopress-on-windows/"/>
    <updated>2012-04-06T17:11:00+01:00</updated>
    <id>http://blog.zerosharp.com/setting-up-octopress-on-windows</id>
    <content type="html"><![CDATA[<p>This is quick guide to setting up Octopress on a Windows 7 machine to publish to GitHub pages.</p>

<H2>Get with GitHub</H2>


<p>First, get an account on GitHub and follow the excellent instructions for Windows here.  <a href="http://help.github.com/win-set-up-git/">here</a>.</p>

<p>Once you are set up with GitHub, get <a href="https://github.com/scottmuc/yari">yari</a> by opening a command prompt:</p>

<p>Then create a directory for all your github projects.  You could put this anywhere, e.g., <code>%USERPROFILE%\github</code>.  I chose to create a directory <code>C:\projects\github\</code>.</p>

<H2>Use yari instead of RVM/rbenv</H2>


<p>Scott Muc has written <a href="https://github.com/scottmuc/yari">yari</a> which lets you switch between Windows Ruby versions.  Get it with the following command.</p>

<pre>
cd C:\projects\github\
git clone git://github.com/scottmuc/yari.git yari
</pre>


<p>Once this has completed you can setup the required Ruby environment with the command:</p>

<pre>
yari 1.9.2
</pre>




<H2>Install Octopress</H2>


<p>The following instruction are taken from <a href="http://octopress.org/docs/setup/">the Octopress setup instructions</a> with minor changes.</p>

<pre>
git clone git://github.com/imathis/octopress.git octopress
cd octopress
ruby --version  # Should report Ruby 1.9.2 thanks to yari
</pre>


<p>Next install dependencies</p>

<pre>
gem install bundler
bundle install
</pre>


<p>Install the default Octopress theme.</p>

<pre>
rake install
</pre>


<p>Then follow the instructions <a href="http://octopress.org/docs/configuring/">here</a> to configure your blog.</p>

<H2>Problem with codeblocks</H2>


<p>On Windows it seems that whenever you include a <code>lang</code> parameter in a <code>codeblock</code>, you get:</p>

<pre>
     Liquid error: No such file or directory - python2.7 -c “import sys; print sys.executable”
</pre>


<p>It seems that there are two issues:</p>

<ul>
<li>Syntax highlighting requires Python which is not automatically installed.</li>
<li>There is a problem with pythonexec.rb which does not seem to support Windows Python installations very well.</li>
</ul>


<p>Luckily we can fix them both.  Install <a href="http://www.python.org/getit/releases/2.7.2/">Python 2.7.2</a>.  Actually I used <a href="http://ninite.com/">ninite.com</a> to install it.</p>

<p>Then modify the pythonrubyexec.rb which is in the depths of the yari subdirectory.  Try here: <code>.\yari\ruby-1.9.2-p290-i386-mingw32\lib\ruby\gems\1.9.1\gems\rubypython-0.5.1\lib\rubypython\pythonexec.rb</code></p>

<p>At the top of pythonexec.rb, modify the file as follows:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>pythonexec.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="k">class</span> <span class="nc">RubyPython</span><span class="o">::</span><span class="no">PythonExec</span>
</span><span class='line'>  <span class="c1"># Based on the name of or path to the \Python executable provided, will</span>
</span><span class='line'>  <span class="c1"># determine:</span>
</span><span class='line'>  <span class="c1">#</span>
</span><span class='line'>  <span class="c1"># * The full path to the \Python executable.</span>
</span><span class='line'>  <span class="c1"># * The version of \Python being run.</span>
</span><span class='line'>  <span class="c1"># * The system prefix.</span>
</span><span class='line'>  <span class="c1"># * The main loadable \Python library for this version.</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">python_executable</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;@python = python_executable || &quot;python&quot;</span>
</span><span class='line'><span class="sr">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;</span><span class="sr">/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;ul&gt;</span>
</span><span class='line'><span class="sr">&lt;li&gt; # &amp;lt;zerosharp+&gt; Start of modification&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span> <span class="k">if</span> <span class="p">(</span><span class="vi">@python</span><span class="o">.</span><span class="n">include?</span> <span class="s1">&#39;python2.7&#39;</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/li&gt;</span>
</span><span class='line'><span class="sr">&lt;li&gt;   @python = &quot;python&quot;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span> <span class="k">end</span><span class="o">&lt;</span><span class="sr">/li&gt;</span>
</span><span class='line'><span class="sr">&lt;li&gt;&lt;p&gt; # &amp;lt;zerosharp+&gt; End of modification&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span><span class="vi">@python</span> <span class="o">=</span> <span class="sx">%x(</span><span class="si">#{</span><span class="vi">@python</span><span class="si">}</span><span class="sx"> -c &quot;import sys; print sys.executable&quot;)</span><span class="o">.</span><span class="n">chomp</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
</ul>


<H2>References</H2>


<ul>
<li><a href="http://translate.googleusercontent.com/translate_c?hl=en&amp;ie=UTF8&amp;prev=_t&amp;rurl=translate.google.com&amp;sl=zh-CN&amp;tl=en&amp;twu=1&amp;u=http://blog.yesmryang.net/windows-octopress-python/&amp;usg=ALkJrhhFZMKpT5j6_L8NXOL1S9H9CGjHNw">This blog post</a> (translated from the Chinese via Google Translate) helped me solve the syntax highlighting problem.</li>
<li><a href="https://github.com/github/gollum/issues/225">This similar issue</a> also helped.</li>
</ul>

]]></content>
  </entry>
  
</feed>
